import asyncio
import os
from aiogram import Bot, Dispatcher, types, F
from aiogram.filters import CommandStart
from aiogram.types import KeyboardButton, ReplyKeyboardMarkup, InlineKeyboardMarkup, InlineKeyboardButton
from aiogram.client.default import DefaultBotProperties
from aiogram.enums import ParseMode

TOKEN = os.getenv("TELEGRAM_TOKEN")
if not TOKEN:
    raise ValueError("–î–æ–±–∞–≤—å TELEGRAM_TOKEN –≤ Variables!")

bot = Bot(token=TOKEN, default=DefaultBotProperties(parse_mode=ParseMode.HTML))
dp = Dispatcher()

# ==================== –¢–ï–ö–°–¢–´ ====================
WELCOME_TEXT = """–ü—Ä–∏–≤–µ—Ç! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ <b>POLYTECH BOT</b> ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –ö–æ–º–∏—Ç–µ—Ç–∞ –ø–æ –¥–µ–ª–∞–º –º–æ–ª–æ–¥—ë–∂–∏ –í—ã—Å—à–µ–≥–æ –∫–æ–ª–ª–µ–¥–∂–∞ ASTANA POLYTECHNIC!
–ó–¥–µ—Å—å —Ç—ã –º–æ–∂–µ—à—å:
‚ú® —É–∑–Ω–∞—Ç—å –æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö –∏ –Ω–æ–≤–æ—Å—Ç—è—Ö –ö–î–ú
üìÖ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–µ–∫—Ç—ã
ü§ù –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤—É –∏ —Å—Ç—É–¥–∫–ª—É–±–∞–º
üí¨ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏–ª–∏ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å
üî• –±—ã—Ç—å –≤ —Ü–µ–Ω—Ç—Ä–µ —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–æ–π –∂–∏–∑–Ω–∏ –Ω–∞—à–µ–≥–æ –∫–æ–ª–ª–µ–¥–∂–∞
–ü–æ–ª–∏—Ç–µ—Ö ‚Äî —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π. –ê –º—ã ‚Äî —Ä—è–¥–æ–º, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å —Ç–µ–±–µ —Ä–∞—Å–∫—Ä—ã—Ç—å —Å–µ–±—è!"""

TAZA_TEXT = """‚ôª –¢–∞–∑–∞ “ö–∞–∑–∞“õ—Å—Ç–∞–Ω
–¢aza “ö–∞–∑–∞“õ—Å—Ç–∞–Ω ‚Äî —ç—Ç–æ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞ –Ω–∞—à–µ–≥–æ –∫–æ–ª–ª–µ–¥–∂–∞, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ –∫—É–ª—å—Ç—É—Ä—ã —á–∏—Å—Ç–æ—Ç—ã, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –æ—Ç—Ö–æ–¥–æ–≤ –∏ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤–∞ —Å—Ä–µ–¥–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.
–ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º?
‚Ä¢ –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ ‚ÄúTaza Box‚Äù ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–±–æ—Ä–∞ —Ç–æ–ª—å–∫–æ –ø–ª–∞—Å—Ç–∏–∫–æ–≤—ã—Ö –æ—Ç—Ö–æ–¥–æ–≤.
–°—Ç—É–¥–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –±—É—Ç—ã–ª–∫–∏, –∫—Ä—ã—à–∫–∏ –∏ –¥—Ä—É–≥–æ–π —á–∏—Å—Ç—ã–π –ø–ª–∞—Å—Ç–∏–∫.
‚Ä¢ –ü—Ä–æ–≤–æ–¥–∏–º —Å—É–±–±–æ—Ç–Ω–∏–∫–∏
–†–µ–≥—É–ª—è—Ä–Ω–æ –≤—ã—Ö–æ–¥–∏–º –Ω–∞ —É–±–æ—Ä–∫—É —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –∫–æ–ª–ª–µ–¥–∂–∞ –∏ –±–ª–∏–∑–ª–µ–∂–∞—â–∏—Ö –∑–æ–Ω.
‚Ä¢ –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∞–∫—Ü–∏–∏
–≠–∫–æ-–º–∞—Ä–∞—Ñ–æ–Ω—ã, —á–µ–ª–ª–µ–Ω–¥–∂–∏, –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ —Å–Ω–∏–∂–µ–Ω–∏–∏ –æ—Ç—Ö–æ–¥–æ–≤.
‚Ä¢ –ü—Ä–æ—Å–≤–µ—â–µ–Ω–∏–µ
–†–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—É–¥–µ–Ω—Ç–∞–º, –∫–∞–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º—É—Å–æ—Ä, –∑–∞—á–µ–º —ç—Ç–æ –≤–∞–∂–Ω–æ –∏ –∫–∞–∫ –∫–∞–∂–¥—ã–π –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –ø—Ä–∏—Ä–æ–¥–µ."""

TAZA_JOIN_TEXT = """üåø –ö–∞–∫ –≤—Å—Ç—É–ø–∏—Ç—å –≤ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤–æ ‚Äú–¢–∞–∑–∞ “ö–∞–∑–∞“õ—Å—Ç–∞–Ω‚Äù?
–ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å —Å—Ç–∞—Ç—å —á–∞—Å—Ç—å—é —ç–∫–æ-–∫–æ–º–∞–Ω–¥—ã ‚Äî –≤—Å—ë –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ:
1. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É ‚Äú–°—Ç–∞—Ç—å –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–º‚Äù
2. –ó–∞–ø–æ–ª–Ω–∏ –∫–æ—Ä–æ—Ç–∫—É—é —Ñ–æ—Ä–º—É: –∏–º—è, –≥—Ä—É–ø–ø–∞, –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä.
3. –î–æ–∂–¥–∏—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ ‚Äî —Ç–µ–±—è –¥–æ–±–∞–≤—è—Ç –≤ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–∏–π —á–∞—Ç.
4. –ü—Ä–∏–Ω–∏–º–∞–π —É—á–∞—Å—Ç–∏–µ –≤ –∞–∫—Ü–∏—è—Ö, —Å—É–±–±–æ—Ç–Ω–∏–∫–∞—Ö, –ø—Ä–æ–µ–∫—Ç–∞—Ö –∏ –ø–æ–ª—É—á–∞–π –±–ª–∞–≥–æ–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã.
–ú—É—Å—Ç–∞—Ñ–∞ +7 705 546 7502"""

VOLUNTEER_TEXT = """ü§ù –í–æ–ª–æ–Ω—Ç—ë—Ä—ã –ü–æ–ª–∏—Ç–µ—Ö–∞
–í–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤–æ –≤ –Ω–∞—à–µ–º –∫–æ–ª–ª–µ–¥–∂–µ ‚Äî —ç—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö, –¥–æ–±—Ä—ã—Ö –∏ –Ω–µ—Ä–∞–≤–Ω–æ–¥—É—à–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –æ–±—â–µ—Å—Ç–≤—É –∏ –¥–µ–ª–∞—é—Ç –º–∏—Ä –ª—É—á—à–µ.
–ö–∞–∂–¥—ã–π —Å—Ç—É–¥–µ–Ω—Ç –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —á–∞—Å—Ç—å—é –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –∏ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—è—é—Ç –∂–∏–∑–Ω—å –ª—é–¥–µ–π.
‚∏ª
‚ú® –ù–∞—à–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
1. –ñ–∞—Å –∂—É—Ä–µ–∫ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ü–æ–ª–∏—Ç–µ—Ö–∞
–≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –æ–±—ä–µ–¥–∏–Ω—è—é—â–µ–µ –≤—Å–µ—Ö –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤ –∫–æ–ª–ª–µ–¥–∂–∞.
–ú—ã –ø—Ä–æ–≤–æ–¥–∏–º —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∞–∫—Ü–∏–∏, —É—á–∞—Å—Ç–≤—É–µ–º –≤ –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –∫—É–ª—å—Ç—É—Ä—É –≤–∑–∞–∏–º–æ–ø–æ–º–æ—â–∏.
2. –ü–æ–º–æ—â—å –∂–∏–≤–æ—Ç–Ω—ã–º
‚Äî –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏ –≤ –ø—Ä–∏—é—Ç—ã
‚Äî –í—ã–≥—É–ª —Å–æ–±–∞–∫
‚Äî –°–±–æ—Ä –∫–æ—Ä–º–∞ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –≤–µ—â–µ–π
‚Äî –ü–æ–º–æ—â—å –≤ —É—Ö–æ–¥–µ –∏ –±–ª–∞–≥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏
3. –î–æ–º –ø—Ä–µ—Å—Ç–∞—Ä–µ–ª—ã—Ö
‚Äî –í—Å—Ç—Ä–µ—á–∏ —Å –ø–æ–∂–∏–ª—ã–º–∏ –ª—é–¥—å–º–∏
‚Äî –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö –∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
‚Äî –ü–æ–º–æ—â—å –≤ —Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–µ–ª–∞—Ö
‚Äî –¢—ë–ø–ª–æ–µ –æ–±—â–µ–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
4. –î–µ—Ç—Å–∫–∏–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è
‚Äî –ü–æ—Å–µ—â–µ–Ω–∏–µ –¥–µ—Ç—Å–∫–∏—Ö —Å–∞–¥–∏–∫–æ–≤ –∏ —Ü–µ–Ω—Ç—Ä–æ–≤ —Ä–∞–∑–≤–∏—Ç–∏—è
‚Äî –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –º–∏–Ω–∏-–∏–≥—Ä, –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–æ–≤, —á—Ç–µ–Ω–∏–µ —Å–∫–∞–∑–æ–∫
‚Äî –ü–æ–¥–∞—Ä–æ—á–Ω—ã–µ –∞–∫—Ü–∏–∏ –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏
5. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞–ª–æ–∏–º—É—â–∏—Ö —Å–µ–º–µ–π
‚Äî –°–±–æ—Ä –æ–¥–µ–∂–¥—ã, –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ —à–∫–æ–ª—å–Ω—ã—Ö –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–µ–π
‚Äî –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∞–∫—Ü–∏–∏ –∏ –∞–¥—Ä–µ—Å–Ω–∞—è –ø–æ–º–æ—â—å
‚Äî –£—á–∞—Å—Ç–∏–µ –≤ –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —è—Ä–º–∞—Ä–∫–∞—Ö
6. –≠–∫–æ-–≤–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤–æ
‚Äî –ü—Ä–æ–µ–∫—Ç ¬´–¢–∞–∑–∞ “ö–∞–∑–∞“õ—Å—Ç–∞–Ω¬ª
‚Äî –°—É–±–±–æ—Ç–Ω–∏–∫–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –æ—Ç—Ö–æ–¥–æ–≤, —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∞–∫—Ü–∏–∏
7. + –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã
‚Äî –ì–æ—Ä–æ–¥—Å–∫–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
‚Äî –ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ä–∞—Ñ–æ–Ω—ã
‚Äî –°—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã –ø–æ–º–æ—â–∏"""

HOW_TO_JOIN_VOLUNTEER_TEXT = """üåü –ö–∞–∫ –≤—Å—Ç—É–ø–∏—Ç—å –≤ —Ä—è–¥—ã –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤?
1. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É ¬´–°—Ç–∞—Ç—å –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–º¬ª –≠–ª—å–Ω–∞—Ä–∞ +7 777 163 9387
2. –ó–∞–ø–æ–ª–Ω–∏ –∫–æ—Ä–æ—Ç–∫—É—é —Ñ–æ—Ä–º—É —Å –∏–º–µ–Ω–µ–º, –≥—Ä—É–ø–ø–æ–π –∏ –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞.
3. –ú—ã –¥–æ–±–∞–≤–∏–º —Ç–µ–±—è –≤ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–∏–π —á–∞—Ç.
4. –í—ã–±–∏—Ä–∞–π –ª—é–±–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —É—á–∞—Å—Ç–≤—É–π –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö.
5. –ü–æ–ª—É—á–∞–π –æ–ø—ã—Ç, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, –±–ª–∞–≥–æ–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞ –∏ –Ω–æ–≤—ã–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞!
–≠–ª—å–Ω–∞—Ä–∞ +7 777 163 9387"""

# ==================== –ö–õ–ê–í–ò–ê–¢–£–†–´ ====================
def main_menu():
    return ReplyKeyboardMarkup(
        keyboard=[
            [KeyboardButton(text="1. –ê–¥–∞–ª –∞–∑–∞–º–∞—Ç"), KeyboardButton(text="2. –°–µ–∫—Ü–∏–∏")],
            [KeyboardButton(text="3. –°—Ç—É–¥–µ–Ω—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞"), KeyboardButton(text="4. –°–ø–æ—Ä—Ç")],
            [KeyboardButton(text="5. –°–æ—Ü.—Å–µ—Ç–∏"), KeyboardButton(text="6. –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è")],
            [KeyboardButton(text="7. –¢–∞–∑–∞ “ö–∞–∑–∞“õ—Å—Ç–∞–Ω"), KeyboardButton(text="8. –í–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤–æ")]
        ],
        resize_keyboard=True
    )

def back_button():
    return ReplyKeyboardMarkup(keyboard=[[KeyboardButton(text="–ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é")]], resize_keyboard=True)

def taza_join_kb():
    return InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="–°—Ç–∞—Ç—å –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–º", url="https://wa.me/77055467502")]
    ])

def volunteer_join_kb():
    return InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="–°—Ç–∞—Ç—å –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–º", url="https://wa.me/77771639387")]
    ])

# ==================== –•–ï–ù–î–õ–ï–†–´ ====================
@dp.message(CommandStart())
async def start(message: types.Message):
    await message.answer(WELCOME_TEXT, reply_markup=main_menu())

@dp.message(F.text == "–ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é")
async def back_to_main(message: types.Message):
    await message.answer("–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", reply_markup=main_menu())

@dp.message(F.text == "7. –¢–∞–∑–∞ “ö–∞–∑–∞“õ—Å—Ç–∞–Ω")
async def taza(message: types.Message):
    await message.answer(TAZA_TEXT, reply_markup=back_button())
    await message.answer("üåø –ö–∞–∫ –≤—Å—Ç—É–ø–∏—Ç—å –≤ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤–æ ‚Äú–¢–∞–∑–∞ “ö–∞–∑–∞“õ—Å—Ç–∞–Ω‚Äù?", reply_markup=taza_join_kb())
    await message.answer(TAZA_JOIN_TEXT)

@dp.message(F.text == "8. –í–æ–ª–æ–Ω—Ç—ë—Ä—Å—Ç–≤–æ")
async def volunteer(message: types.Message):
    await message.answer(VOLUNTEER_TEXT, reply_markup=back_button())
    await message.answer("üåü –ö–∞–∫ –≤—Å—Ç—É–ø–∏—Ç—å –≤ —Ä—è–¥—ã –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤?", reply_markup=volunteer_join_kb())
    await message.answer(HOW_TO_JOIN_VOLUNTEER_TEXT)

# –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ö–µ–Ω–¥–ª–µ—Ä—ã (—Å–µ–∫—Ü–∏–∏, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ç.–¥.) ‚Äî –æ—Å—Ç–∞–≤—å –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
# (—è –∏—Ö –Ω–µ —Ç—Ä–æ–≥–∞—é, —á—Ç–æ–±—ã –Ω–µ —É–¥–ª–∏–Ω—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –Ω–æ –æ–Ω–∏ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å –∏ —Ä–∞–±–æ—Ç–∞—é—Ç)

# ==================== –ó–ê–ü–£–°–ö ====================
async def main():
    print("POLYTECH BOT ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è, —á–∏—Å—Ç—ã–π –∑–∞–ø—É—Å–∫...")
    await bot.delete_webhook(drop_pending_updates=True)
    await bot.get_updates(offset=-1, limit=0, timeout=1)
    await bot.session.close()
    await asyncio.sleep(2)
    print("–ë–æ—Ç –æ–Ω–ª–∞–π–Ω 24/7 ‚Äî –ü–æ–ª–∏—Ç–µ—Ö –∂–∏–≤—ë—Ç –∏ –ø—Ä–æ—Ü–≤–µ—Ç–∞–µ—Ç!")
    await dp.start_polling(bot)

if __name__ == "__main__":
    asyncio.run(main())
